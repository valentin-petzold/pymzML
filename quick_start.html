<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. Quick Start &mdash; pymzML 2.5.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=0bbe9fa5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. pymzML module content" href="modules.html" />
    <link rel="prev" title="1. Introduction" href="intro.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pymzML
          </a>
              <div class="version">
                2.5.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parsing-a-mzml-file-and-setting-measured-precision">2.1. Parsing a mzML file and setting measured precision</a></li>
<li class="toctree-l2"><a class="reference internal" href="#seeking-in-a-mzml-file">2.2. Seeking in a mzML file</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reading-mzml-indices-with-a-custom-regular-expression">2.3. Reading mzML indices with a custom regular expression</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">3. pymzML module content</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">4. Examples and Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="suppl_material.html">5. Supplemental Material</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymzML</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active"><span class="section-number">2. </span>Quick Start</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/quick_start.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quick-start">
<span id="id1"></span><h1><span class="section-number">2. </span>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h1>
<section id="parsing-a-mzml-file-and-setting-measured-precision">
<h2><span class="section-number">2.1. </span>Parsing a mzML file and setting measured precision<a class="headerlink" href="#parsing-a-mzml-file-and-setting-measured-precision" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">simple_parser.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mzml_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/simple_parser.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Basic example script to demonstrate the usage of pymzML. Requires a mzML
file as first argument.</p>
<p>usage:</p>
<blockquote>
<div><p>./simple_parser.py &lt;path_to_mzml_file&gt;</p>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This script uses the new syntax with the MS level being a property of
the spectrum class ( Spectrum.ms_level ). The old syntax can be found in
the script simple_parser_v2.py where the MS level can be queried as a key
(Spectrum[‘ms level’])</p>
</div>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pymzml</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">mzml_file</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Basic example script to demonstrate the usage of pymzML. Requires a mzML</span>
<span class="sd">    file as first argument.</span>

<span class="sd">    usage:</span>

<span class="sd">        ./simple_parser.py &lt;path_to_mzml_file&gt;</span>

<span class="sd">    Note:</span>

<span class="sd">        This script uses the new syntax with the MS level being a property of</span>
<span class="sd">        the spectrum class ( Spectrum.ms_level ). The old syntax can be found in</span>
<span class="sd">        the script simple_parser_v2.py where the MS level can be queried as a key</span>
<span class="sd">        (Spectrum[&#39;ms level&#39;])</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">run</span> <span class="o">=</span> <span class="n">pymzml</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Reader</span><span class="p">(</span><span class="n">mzml_file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">spec</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">run</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="s2">&quot;Spectrum </span><span class="si">{0}</span><span class="s2">, MS level </span><span class="si">{ms_level}</span><span class="s2"> @ RT </span><span class="si">{scan_time:1.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">spec</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="n">ms_level</span><span class="o">=</span><span class="n">spec</span><span class="o">.</span><span class="n">ms_level</span><span class="p">,</span> <span class="n">scan_time</span><span class="o">=</span><span class="n">spec</span><span class="o">.</span><span class="n">scan_time_in_minutes</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Parsed </span><span class="si">{0}</span><span class="s2"> spectra from file </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">mzml_file</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">main</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
        <span class="n">exit</span><span class="p">()</span>
    <span class="n">mzml_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">main</span><span class="p">(</span><span class="n">mzml_file</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="seeking-in-a-mzml-file">
<h2><span class="section-number">2.2. </span>Seeking in a mzML file<a class="headerlink" href="#seeking-in-a-mzml-file" title="Link to this heading"></a></h2>
<p>One of the features of pymzML is the ability to (create) and read
indexed gzip which allows mzML file sizes to reach the levels of the original
RAW format. The interface to random access into a mzML file is implemented
by the magic get function in pymzMLs run class.</p>
<p>Alternatively, pymzML can also rapidly seek into any uncompressed mzML file,
no matter if an index was included into the file or not.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">pymzml</span>

<span class="n">run</span> <span class="o">=</span> <span class="n">pymzml</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Reader</span><span class="p">(</span> <span class="s1">&#39;tests/data/BSA1.mzML.gz&#39;</span> <span class="p">)</span>
<span class="n">spectrum_with_id_2540</span> <span class="o">=</span> <span class="n">run</span><span class="p">[</span> <span class="mi">2540</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="reading-mzml-indices-with-a-custom-regular-expression">
<h2><span class="section-number">2.3. </span>Reading mzML indices with a custom regular expression<a class="headerlink" href="#reading-mzml-indices-with-a-custom-regular-expression" title="Link to this heading"></a></h2>
<p>When reading mzML files with indices wich is not an integer or contains “scan=1” or similar,
you can set a custom regex to parse the index when initializing the reader.</p>
<dl class="simple">
<dt>Say for example you have an index as in the example file Manuels_customs_ids.mzML:</dt><dd><p>&lt;offset idRef=”ManuelsCustomID=1 diesdas”&gt;4026&lt;/offset&gt;</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">pymzml</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">index_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
    <span class="sa">b</span><span class="s1">&#39;.*idRef=&quot;ManuelsCustomID=(?P&lt;ID&gt;.*) diesdas&quot;&gt;(?P&lt;offset&gt;[0-9]*)&lt;/offset&gt;&#39;</span>
<span class="p">)</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">pymzml</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Reader</span><span class="p">(</span><span class="n">your_file_path</span><span class="p">,</span> <span class="n">index_regex</span><span class="o">=</span><span class="n">index_re</span><span class="p">)</span>
<span class="n">spec_1</span> <span class="o">=</span> <span class="n">run</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>The regular expression has to contain a group called ID and a group called offset.
Also be aware that your regex need to be a byte string.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="intro.html" class="btn btn-neutral float-left" title="1. Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="3. pymzML module content" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Kösters, M., Leufken, J., Schulze, S., Sugimoto, K., Zahedi, R. P., Hippler, M., Leidel, S. A. and Fufezan, C..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>